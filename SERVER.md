## 个人服务器运维小记

## 获取服务器

你可以通过购买 IDC 的服务器或者自己搭建的方式来拥有服务器。买服务器建议上阿里云、腾讯云买，大厂新用户有优惠，大厂的服务器要比其他小 IDC 的服务器更加稳定，不存在超开等行为。你也可以从网上找一些小厂的 IDC 购买服务器。购买之前记得先看服务器延迟、性能好不好，根据你自己的需求来买服务器，搭建个网站，挂点文件服务器啥的，用个1核1G的就够了，或者上2核2G。

购买 IDC 的服务器之前先看 IDC 对服务器有什么限制，允不允许开服务啥的，这些都要问清楚，到时候买了之后退不了货你不就炸了吗。

还有，真心不推荐买端口机，那种只开放十几个端口的机子，用端口机还不如用自己电脑开个虚拟机套个内网穿透。

你也可以自己通过虚拟机的方式来搭建服务器，但是没有公网 I，只能在内网中访问，如果你想要公网 IP，你可以向当地的运营商申请。或者你可以通过内网穿透的方式开放服务器的端口到公网上。

## Windows Server & Linux 区别

以我自己的感受来说，Windows Server 的性能比 Linux 性能要差很多，Windows Server 主要就是图形化操作，Linux 是命令行操作。Linux 系统我比较推荐 Rocky Linux、Alpine Linux、Ubuntu。不是很推荐使用 Arch Linux 系统作为服务器使用，Arch Linux 滚挂了还得进后台救，当个个人电脑使用得了。

## Windows Server & Linux 配置建议

我没有运维 Windows Server 公网服务器的经验，这里就只说 Linux 了，如果你买的是端口机，就是只开放几个端口的机子，这种机子没有公网 IP，配置 Fail2ban 的话还有可能把自己给封掉，建议给 SSH 配置个复杂的密码或者配置成 SSH 密钥登录，当然你也可以开个 VPN 服务，用于访问机子的内网，这样还能扩展端口。

如果你的机子有公网 IP，真心建议你配置个 Fail2ban，网络上有很多坏 b 喜欢扫你机子，暴力破解 SSH 密码，配置个 Fail2ban 可以自动封禁扫你服务的 IP。还有防火墙记得打开，还有你配置某些可能会影响到系统运行的命令之前，记得留一手防范，可能配置完后你就访问不了机子了。

```bash
#!/bin/bash
# 关闭网络 (可能影响系统的命令)
nmcli networking off
# 延迟一分钟后恢复
sleep 60
# 开启网络 (恢复)
nmcli networking on
```

## 服务器可以干什么事？

在基本配置完服务器之后，你可以给服务器做个网站、下载站、内网穿透机子都是可以的。

有公网服务器，你可以通过 SSH 自带的端口转发功能把本地的端口映射到公网，公网的端口映射到本地的端口。外出的时候也能访问家里的服务。
